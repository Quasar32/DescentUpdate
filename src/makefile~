CPPFLAGS = -Wall -g -O3 -Wno-exceptions -
OBJFILES = main.o descent.o error.o frame.o worker.o render.o

output: $(OBJFILES) 
	g++ *.o -mwindows -lwinmm -static-libgcc -static-libstdc++ -o ../build/descent 

main.o: main.cpp descent.hpp error.hpp
	g++ -c main.cpp $(CPPFLAGS)	

descent.o: descent.cpp descent.hpp vec2.hpp worker.hpp render.hpp
	g++ -c descent.cpp $(CPPFLAGS) 

error.o: error.cpp error.hpp
	g++ -c error.cpp $(CPPFLAGS) 

frame.o: frame.cpp frame.hpp
	g++ -c frame.cpp $(CPPFLAGS)

worker.o: worker.cpp worker.hpp
	g++ -c worker.cpp $(CPPFLAGS)

render.o: render.cpp render.hpp
	g++ -c render.cpp $(CPPFLAGS)

clean:
	del *.o
